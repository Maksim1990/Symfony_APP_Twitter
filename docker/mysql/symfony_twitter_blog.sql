-- phpMyAdmin SQL Dump
-- version 4.6.6deb5
-- https://www.phpmyadmin.net/
--
-- Host: localhost:3306
-- Generation Time: Jun 03, 2019 at 11:46 AM
-- Server version: 5.7.26-0ubuntu0.18.04.1
-- PHP Version: 7.2.17-0ubuntu0.18.04.1

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `symfony_udemy_db`
--

-- --------------------------------------------------------

--
-- Table structure for table `following`
--

CREATE TABLE `following` (
  `user_id` int(11) NOT NULL,
  `following_user_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `following`
--

INSERT INTO `following` (`user_id`, `following_user_id`) VALUES
(4, 3),
(5, 3),
(5, 4);

-- --------------------------------------------------------

--
-- Table structure for table `micro_post`
--

CREATE TABLE `micro_post` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `text` varchar(280) COLLATE utf8mb4_unicode_ci NOT NULL,
  `time` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `micro_post`
--

INSERT INTO `micro_post` (`id`, `user_id`, `text`, `time`) VALUES
(1, 2, 'How was your day?', '2019-02-02 16:03:29'),
(2, 3, 'There\'s a problem with my phone', '2019-02-02 16:03:29'),
(3, 3, 'I wanna buy a new car', '2019-02-02 16:03:29'),
(4, 1, 'It\'s nice sunny weather today', '2019-02-02 16:03:29'),
(5, 4, 'I need to go to the doctor', '2019-02-02 16:03:29'),
(6, 2, 'How was your day?', '2019-02-02 16:03:29'),
(7, 2, 'Hello, how are you?', '2019-02-02 16:03:29'),
(8, 2, 'Did you watch the game yesterday?', '2019-02-02 16:03:29'),
(9, 1, 'Did you watch the game yesterday?', '2019-02-02 16:03:29'),
(10, 4, 'There\'s a problem with my phone', '2019-02-02 16:03:29'),
(11, 1, 'I need to buy some ice cream!', '2019-02-02 16:03:29'),
(12, 4, 'I need to buy some ice cream!', '2019-02-02 16:03:29'),
(13, 2, 'There\'s a problem with my phone', '2019-02-02 16:03:29'),
(14, 2, 'I wanna buy a new car', '2019-02-02 16:03:29'),
(15, 2, 'How was your day?', '2019-02-02 16:03:29'),
(16, 4, 'What are you up to today?', '2019-02-02 16:03:29'),
(17, 2, 'What are you up to today?', '2019-02-02 16:03:29'),
(18, 3, 'It\'s nice sunny weather today', '2019-02-02 16:03:29'),
(19, 2, 'Did you watch the game yesterday?', '2019-02-02 16:03:29'),
(20, 3, 'I need to go to the doctor', '2019-02-02 16:03:29'),
(21, 4, 'I need to buy some ice cream!', '2019-02-02 16:03:29'),
(22, 4, 'I wanna buy a new car', '2019-02-02 16:03:29'),
(23, 2, 'Did you watch the game yesterday?', '2019-02-02 16:03:29'),
(24, 4, 'There\'s a problem with my phone', '2019-02-02 16:03:29'),
(25, 2, 'What are you up to today?', '2019-02-02 16:03:29'),
(26, 4, 'I need to go to the doctor', '2019-02-02 16:03:29'),
(27, 2, 'Hello, how are you?', '2019-02-02 16:03:29'),
(28, 3, 'Hello, how are you?', '2019-02-02 16:03:29'),
(29, 3, 'What are you up to today?', '2019-02-02 16:03:29'),
(30, 1, 'I need to buy some ice cream!', '2019-02-02 16:03:29'),
(31, 5, 'First test post!', '2019-05-01 14:11:30');

-- --------------------------------------------------------

--
-- Table structure for table `migration_versions`
--

CREATE TABLE `migration_versions` (
  `version` varchar(14) COLLATE utf8mb4_unicode_ci NOT NULL,
  `executed_at` datetime NOT NULL COMMENT '(DC2Type:datetime_immutable)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `migration_versions`
--

INSERT INTO `migration_versions` (`version`, `executed_at`) VALUES
('20190127165112', '2019-02-02 15:01:57'),
('20190127170334', '2019-02-02 15:01:57'),
('20190131111255', '2019-02-02 15:01:58'),
('20190201103713', '2019-02-02 15:01:58'),
('20190201230724', '2019-02-02 15:01:58'),
('20190202104959', '2019-02-02 15:01:58'),
('20190202105100', '2019-02-02 15:01:59'),
('20190202105343', '2019-02-02 15:01:59'),
('20190202150315', '2019-02-02 15:03:21');

-- --------------------------------------------------------

--
-- Table structure for table `notification`
--

CREATE TABLE `notification` (
  `id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `micro_post_id` int(11) DEFAULT NULL,
  `liked_by_id` int(11) DEFAULT NULL,
  `seen` tinyint(1) NOT NULL,
  `discr` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `post_likes`
--

CREATE TABLE `post_likes` (
  `post_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `sessions`
--

CREATE TABLE `sessions` (
  `sess_id` varchar(128) COLLATE utf8_bin NOT NULL,
  `sess_data` blob NOT NULL,
  `sess_time` int(10) UNSIGNED NOT NULL,
  `sess_lifetime` mediumint(9) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Dumping data for table `sessions`
--

INSERT INTO `sessions` (`sess_id`, `sess_data`, `sess_time`, `sess_lifetime`) VALUES
('3bhvgbebus7tisqutn5mfnbo57', 0x5f7366325f617474726962757465737c613a313a7b733a31383a225f637372662f61757468656e746963617465223b733a34333a2247457164445a4d6d446b344d4a4d6d324e31764c72463956547938674c414e4a70444c5334304236317563223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535393430363434313b733a313a2263223b693a313535393430363434313b733a313a226c223b733a313a2230223b7d, 1559406441, 1440),
('56oparktj9t4l6ekd9cdrp2jtn', 0x5f7366325f617474726962757465737c613a313a7b733a31383a225f637372662f61757468656e746963617465223b733a34333a2247615f39315675634d416a71516571504e5436356c74596c73674577423134753656415a694344616d4a38223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535383139373635363b733a313a2263223b693a313535383139373635363b733a313a226c223b733a313a2230223b7d, 1558197656, 1440),
('9t3iohdu8hkhsb07n19i64q1sc', 0x5f7366325f617474726962757465737c613a313a7b733a32363a225f73656375726974792e6d61696e2e7461726765745f70617468223b733a34383a22687474703a2f2f6e617275736865766963682d6d616b73696d2e6d6c2f74776974746572426c6f672f7075626c69632f223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535383037393933363b733a313a2263223b693a313535383037393933363b733a313a226c223b733a313a2230223b7d, 1558079936, 1440),
('dllsi8fsigdkplhm4omflojcgf', 0x5f7366325f617474726962757465737c613a313a7b733a32363a225f73656375726974792e6d61696e2e7461726765745f70617468223b733a34383a22687474703a2f2f6e617275736865766963682d6d616b73696d2e6d6c2f74776974746572426c6f672f7075626c69632f223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535373232383139303b733a313a2263223b693a313535373232383139303b733a313a226c223b733a313a2230223b7d, 1557228190, 1440),
('ejb3uj86fcechrn5lmi1kqf9kb', 0x5f7366325f617474726962757465737c613a353a7b733a31383a225f637372662f61757468656e746963617465223b733a34333a225354754c34594454455f6358512d3749665f387a73375538774d69783973336e3645797a567a6f70676738223b733a31303a225f637372662f75736572223b733a34333a22364167716d664c35777330724d696874475f7038744c646b6665464d4a6479354b51467475522d73497141223b733a373a225f6c6f63616c65223b733a323a22656e223b733a31343a225f73656375726974795f6d61696e223b733a3433373a22433a37343a2253796d666f6e795c436f6d706f6e656e745c53656375726974795c436f72655c41757468656e7469636174696f6e5c546f6b656e5c557365726e616d6550617373776f7264546f6b656e223a3334393a7b613a333a7b693a303b4e3b693a313b733a343a226d61696e223b693a323b733a3330393a22613a343a7b693a303b433a31353a224170705c456e746974795c55736572223a3131343a7b613a343a7b693a303b693a353b693a313b733a393a22546573745f75736572223b693a323b733a36303a2224327924313324756270576d574931744b56686d56697a6f653052547545744f693370386f64786b376f5a7a454663537a52464b63344c71502e6a4b223b693a333b623a313b7d7d693a313b623a313b693a323b613a313a7b693a303b4f3a34313a2253796d666f6e795c436f6d706f6e656e745c53656375726974795c436f72655c526f6c655c526f6c65223a313a7b733a34373a220053796d666f6e795c436f6d706f6e656e745c53656375726974795c436f72655c526f6c655c526f6c6500726f6c65223b733a393a22524f4c455f55534552223b7d7d693a333b613a303a7b7d7d223b7d7d223b733a31363a225f637372662f6d6963726f5f706f7374223b733a34333a223341352d78723334746e4f3337626a626b746150696e46504b73776561766d754f6d76303935444a504a59223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535363731363931323b733a313a2263223b693a313535363731323635313b733a313a226c223b733a313a2230223b7d, 1556716912, 1440),
('gv4dr7n2or3lau3t439mnfa01v', 0x5f7366325f617474726962757465737c613a333a7b733a32363a225f73656375726974792e6d61696e2e7461726765745f70617468223b733a34313a22687474703a2f2f3138352e3137372e35392e3134372f74776974746572426c6f672f7075626c69632f223b733a31383a225f637372662f61757468656e746963617465223b733a34333a2256713941692d756932374d5a6a6c5a4d312d592d597a55694e6c53594c6a5943327233354d523759337a49223b733a31303a225f637372662f75736572223b733a34333a225833714472735a6741774b6e394e46674b7039313239555f536c306f4339773739697655314f5a6c336341223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535363937323337363b733a313a2263223b693a313535363937323336393b733a313a226c223b733a313a2230223b7d, 1556972376, 1440),
('kb2is3r901c7emlmgh9sph187u', 0x5f7366325f617474726962757465737c613a313a7b733a32363a225f73656375726974792e6d61696e2e7461726765745f70617468223b733a35393a22687474703a2f2f6e617275736865766963682d6d616b73696d2e6d6c2f74776974746572426c6f672f7075626c69632f6d6963726f2d706f73742f223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535393438343039333b733a313a2263223b693a313535393438343039333b733a313a226c223b733a313a2230223b7d, 1559484093, 1440),
('l27mhp1lkdi0722qbl7n8qmul6', 0x5f7366325f617474726962757465737c613a313a7b733a31303a225f637372662f75736572223b733a34333a22616f5150524d7453643637454277612d6572515479625538506d4f5a565358494f635037554a70427a4c55223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535383534353831353b733a313a2263223b693a313535383534353831353b733a313a226c223b733a313a2230223b7d, 1558545815, 1440),
('m671ama7lkh7pl073c66e25sfq', 0x5f7366325f617474726962757465737c613a323a7b733a32363a225f73656375726974792e6d61696e2e7461726765745f70617468223b733a35323a22687474703a2f2f3138352e3137372e35392e3134372f74776974746572426c6f672f7075626c69632f6d6963726f2d706f73742f223b733a31383a225f637372662f61757468656e746963617465223b733a34333a22784656586e6c71536453495532546e4537695465306661614635417a4a5a78423134314a6357634a4c3551223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535383534353637313b733a313a2263223b693a313535383534353637303b733a313a226c223b733a313a2230223b7d, 1558545671, 1440),
('n3i833o4kdov76jmv5il7kk5p1', 0x5f7366325f617474726962757465737c613a323a7b733a32363a225f73656375726974792e6d61696e2e7461726765745f70617468223b733a34313a22687474703a2f2f3138352e3137372e35392e3134372f74776974746572426c6f672f7075626c69632f223b733a31383a225f637372662f61757468656e746963617465223b733a34333a224965724d4b495173466d72444d793864636d70317252746434387a35354f72705f774f576434664930556b223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535383630343735373b733a313a2263223b693a313535383630343735363b733a313a226c223b733a313a2230223b7d, 1558604757, 1440),
('qpo9e0726vhti1fveeo3gerq7c', 0x5f7366325f617474726962757465737c613a313a7b733a31383a225f637372662f61757468656e746963617465223b733a34333a22666b55475f6e45764e6a794836757258486559587048644f6473532d4245586661615532584c2d6c633359223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535383534353736343b733a313a2263223b693a313535383534353736343b733a313a226c223b733a313a2230223b7d, 1558545764, 1440),
('r9adn2b2278uus13e69e9pives', 0x5f7366325f617474726962757465737c613a323a7b733a32363a225f73656375726974792e6d61696e2e7461726765745f70617468223b733a34313a22687474703a2f2f3138352e3137372e35392e3134372f74776974746572426c6f672f7075626c69632f223b733a31383a225f637372662f61757468656e746963617465223b733a34333a226b52556253373053746e6e79556f2d6536376742346c4771482d64457537515a527167456b6e6f4d364359223b7d5f7366325f6d6574617c613a333a7b733a313a2275223b693a313535383534353539383b733a313a2263223b693a313535383534353539373b733a313a226c223b733a313a2230223b7d, 1558545598, 1440);

-- --------------------------------------------------------

--
-- Table structure for table `user`
--

CREATE TABLE `user` (
  `id` int(11) NOT NULL,
  `username` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(254) COLLATE utf8mb4_unicode_ci NOT NULL,
  `full_name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `roles` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '(DC2Type:simple_array)',
  `confirmation_token` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `enabled` tinyint(1) NOT NULL,
  `preferences_id` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `user`
--

INSERT INTO `user` (`id`, `username`, `password`, `email`, `full_name`, `roles`, `confirmation_token`, `enabled`, `preferences_id`) VALUES
(1, 'john_test', '$2y$13$wQU4THD9536OfMK/Lzv/cOQUEnw.XJPxv512S4Twp1xhcqzcvTi6a', 'john_test@gmail.com', 'John Doe', 'ROLE_USER', NULL, 1, 1),
(2, 'rob_test', '$2y$13$ob.VD4kcQqBWLBZpzTlrxuQw2d2cB20epl2yOkdER.Ms3oI2xZQ.6', 'rob_test@gmail.com', 'Rob Smith', 'ROLE_USER', NULL, 1, 2),
(3, 'marry_test', '$2y$13$CnKfJCnbwTZQVWGzTKdrMev7IXw6O/2Huj2AeIAQH6JNZXWxvo2GK', 'marry_test@gmail.com', 'Marry Gold', 'ROLE_USER', NULL, 1, 3),
(4, 'maksim', '$2y$13$PanM135rKYx.wlyKC3CHPehTKYoHBzNPr2b0.Vgbb0/fRDXLIQ80W', 'maksim@gmail.com', 'Maksim Test', 'ROLE_ADMIN', NULL, 1, 4),
(5, 'Test_user', '$2y$13$ubpWmWI1tKVhmVizoe0RTuEtOi3p8odxk7oZzEFcSzRFKc4LqP.jK', 'test@gmail.com', 'Test profile', 'ROLE_USER', '', 1, 5);

-- --------------------------------------------------------

--
-- Table structure for table `user_preferences`
--

CREATE TABLE `user_preferences` (
  `id` int(11) NOT NULL,
  `locale` varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `user_preferences`
--

INSERT INTO `user_preferences` (`id`, `locale`) VALUES
(1, 'ru'),
(2, 'fr'),
(3, 'fr'),
(4, 'ru'),
(5, 'en');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `following`
--
ALTER TABLE `following`
  ADD PRIMARY KEY (`user_id`,`following_user_id`),
  ADD KEY `IDX_71BF8DE3A76ED395` (`user_id`),
  ADD KEY `IDX_71BF8DE31896F387` (`following_user_id`);

--
-- Indexes for table `micro_post`
--
ALTER TABLE `micro_post`
  ADD PRIMARY KEY (`id`),
  ADD KEY `IDX_2AEFE017A76ED395` (`user_id`);

--
-- Indexes for table `migration_versions`
--
ALTER TABLE `migration_versions`
  ADD PRIMARY KEY (`version`);

--
-- Indexes for table `notification`
--
ALTER TABLE `notification`
  ADD PRIMARY KEY (`id`),
  ADD KEY `IDX_BF5476CAA76ED395` (`user_id`),
  ADD KEY `IDX_BF5476CA11E37CEA` (`micro_post_id`),
  ADD KEY `IDX_BF5476CAB4622EC2` (`liked_by_id`);

--
-- Indexes for table `post_likes`
--
ALTER TABLE `post_likes`
  ADD PRIMARY KEY (`post_id`,`user_id`),
  ADD KEY `IDX_DED1C2924B89032C` (`post_id`),
  ADD KEY `IDX_DED1C292A76ED395` (`user_id`);

--
-- Indexes for table `sessions`
--
ALTER TABLE `sessions`
  ADD PRIMARY KEY (`sess_id`);

--
-- Indexes for table `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `UNIQ_8D93D649F85E0677` (`username`),
  ADD UNIQUE KEY `UNIQ_8D93D649E7927C74` (`email`),
  ADD UNIQUE KEY `UNIQ_8D93D6497CCD6FB7` (`preferences_id`);

--
-- Indexes for table `user_preferences`
--
ALTER TABLE `user_preferences`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `micro_post`
--
ALTER TABLE `micro_post`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=32;
--
-- AUTO_INCREMENT for table `notification`
--
ALTER TABLE `notification`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `user`
--
ALTER TABLE `user`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;
--
-- AUTO_INCREMENT for table `user_preferences`
--
ALTER TABLE `user_preferences`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;
--
-- Constraints for dumped tables
--

--
-- Constraints for table `following`
--
ALTER TABLE `following`
  ADD CONSTRAINT `FK_71BF8DE31896F387` FOREIGN KEY (`following_user_id`) REFERENCES `user` (`id`),
  ADD CONSTRAINT `FK_71BF8DE3A76ED395` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`);

--
-- Constraints for table `micro_post`
--
ALTER TABLE `micro_post`
  ADD CONSTRAINT `FK_2AEFE017A76ED395` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`);

--
-- Constraints for table `notification`
--
ALTER TABLE `notification`
  ADD CONSTRAINT `FK_BF5476CA11E37CEA` FOREIGN KEY (`micro_post_id`) REFERENCES `micro_post` (`id`),
  ADD CONSTRAINT `FK_BF5476CAA76ED395` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`),
  ADD CONSTRAINT `FK_BF5476CAB4622EC2` FOREIGN KEY (`liked_by_id`) REFERENCES `user` (`id`);

--
-- Constraints for table `post_likes`
--
ALTER TABLE `post_likes`
  ADD CONSTRAINT `FK_DED1C2924B89032C` FOREIGN KEY (`post_id`) REFERENCES `micro_post` (`id`),
  ADD CONSTRAINT `FK_DED1C292A76ED395` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`);

--
-- Constraints for table `user`
--
ALTER TABLE `user`
  ADD CONSTRAINT `FK_8D93D6497CCD6FB7` FOREIGN KEY (`preferences_id`) REFERENCES `user_preferences` (`id`);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
